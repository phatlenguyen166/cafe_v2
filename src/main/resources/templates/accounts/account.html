<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <title>Trang c√° nh√¢n</title>
</head>
<body>
<h1>V√≠ d·ª• v·ªÅ k·∫ø th·ª´a layout n√≥ ƒëang l·ªói ch∆∞a l√†m ch·ª©c nƒÉng</h1>
<div layout:fragment="content">
    <form th:action="@{/account/update}" th:object="${account}" method="post" class="max-w-5xl mx-auto bg-white rounded-xl shadow-lg mt-10 p-6">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

            <div class="flex flex-col items-center justify-between space-y-4">
                <img th:src="${account.anh != null} ? ${account.anh} : 'https://via.placeholder.com/100x120'"
                     alt="avatar"
                     class="w-36 h-36 rounded-full border-4 border-[#4e342e] shadow-md"/>
                <label class="text-sm font-medium text-gray-700">
                    Thay ·∫£nh ƒë·∫°i di·ªán:
                    <input type="file" name="avatar" accept="image/*"
                           onchange="previewAvatar(event)"
                           class="mt-1 block w-full text-sm file:mr-2 file:py-1 file:px-2
                                  file:rounded file:border-0 file:bg-yellow-500 file:text-white
                                  hover:file:bg-yellow-600">
                </label>
                <button type="submit"
                        formaction="/logout"
                        class="bg-red-500 hover:bg-red-600 text-white font-semibold px-4 py-2 rounded shadow">
                    üö™ ƒêƒÉng xu·∫•t
                </button>
            </div>

            <!-- Form th√¥ng tin c√° nh√¢n -->
            <div class="md:col-span-2 space-y-4">
                <h2 class="text-2xl font-bold text-[#4e342e] border-b pb-2">Th√¥ng tin c√° nh√¢n</h2>

                <div class="grid grid-cols-2 gap-4 text-sm">
                    <div>
                        <label class="font-semibold">H·ªç v√† t√™n:</label>
                        <input type="text" name="fullName" th:field="*{hoTen}"
                               class="mt-1 w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-yellow-400">
                    </div>

                    <div>
                        <label class="font-semibold">Ch·ª©c v·ª•:</label>
                        <input type="text" name="position" th:field="*{chucVu}"
                               class="mt-1 w-full px-3 py-2 border rounded bg-gray-100" readonly>
                    </div>

                    <div class="col-span-2">
                        <label class="font-semibold">ƒê·ªãa ch·ªâ:</label>
                        <input type="text" name="address" th:field="*{diaChi}"
                               class="mt-1 w-full px-3 py-2 border rounded">
                    </div>

                    <div>
                        <label class="font-semibold">S·ªë ƒëi·ªán tho·∫°i:</label>
                        <input type="text" name="phone" th:field="*{sdt}"
                               class="mt-1 w-full px-3 py-2 border rounded">
                    </div>

                    <div>
                        <label class="font-semibold">L∆∞∆°ng:</label>
                        <input type="text"
                               th:value="${#numbers.formatDecimal(account.luong, 0, 'POINT', 0, 'COMMA')}"
                               class="mt-1 w-full px-3 py-2 border rounded bg-gray-100" readonly>
                        <input type="hidden" th:field="*{luong}" />
                    </div>

                    <div>
                        <label class="font-semibold">T√†i kho·∫£n:</label>
                        <input type="text" name="username" th:field="*{tenDangNhap}"
                               class="mt-1 w-full px-3 py-2 border rounded bg-gray-100" readonly>
                    </div>

                    <div>
                        <label class="font-semibold">M·∫≠t kh·∫©u:</label>
                        <input type="password" name="password" th:value="${account.getMatKhau()}"
                               class="mt-1 w-full px-3 py-2 border rounded bg-gray-100" readonly>
                    </div>
                </div>

                <div class="pt-4">
                    <button type="submit"
                            class="bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-2 rounded font-semibold shadow">
                        üíæ L∆∞u th√¥ng tin
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>
</body>
</html>
